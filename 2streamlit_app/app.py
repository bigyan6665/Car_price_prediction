import streamlit as st, pandas as pd
import pickle as pk
import os

st.header("Car Price Predictor")

brands = [
    "BMW",
    "Mercedes-Benz",
    "Audi",
    "Toyota",
    "Renault",
    "Volkswagen",
    "Mitsubishi",
]
body_types = ["sedan", "van", "crossover", "vagon", "other", "hatch"]
engine_types = ["Petrol", "Diesel", "Gas", "Other"]
reg = ["yes", "no"]
models = [
    "320",
    "Sprinter 212",
    "S 500",
    "Q7",
    "Rav 4",
    "GLS 63",
    "A6",
    "Megane",
    "Golf IV",
    "19",
    "A6 Allroad",
    "Passat B6",
    "Land Cruiser 100",
    "Clio",
    "318",
    "Hilux",
    "Polo",
    "Outlander",
    "A8",
    "Touareg",
    "Vito",
    "Colt",
    "100",
    "Z4",
    "Pajero Wagon",
    "X5",
    "Caddy",
    "Camry",
    "528",
    "TT",
    "A4",
    "G 55 AMG",
    "X6",
    "Galant",
    "525",
    "Kangoo",
    "ML 350",
    "730",
    "Trafic",
    "X5 M",
    "S 350",
    "Lancer",
    "E-Class",
    "Scenic",
    "330",
    "Passat B5",
    "A3",
    "Land Cruiser Prado",
    "Caravelle",
    "Avensis",
    "GL 320",
    "GL 450",
    "Lancer X",
    "200",
    "520",
    "Tiguan",
    "Outlander XL",
    "GLS 350",
    "A5",
    "X6 M",
    "Golf III",
    "A 150",
    "FJ Cruiser",
    "Koleos",
    "Land Cruiser 200",
    "Passat B7",
    "Scirocco",
    "M5",
    "Venza",
    "80",
    "V 250",
    "ML 270",
    "C-Class",
    "Lupo",
    "5 Series",
    "CLA 200",
    "T5 (Transporter)",
    "Highlander",
    "Corolla",
    "CLK 240",
    "Passat CC",
    "I3",
    "Multivan",
    "Vaneo",
    "X1",
    "T5 (Transporter) ",
    "S 400",
    "S 550",
    "A4 Allroad",
    "Passat B4",
    "Golf II",
    "L 200",
    "Jetta",
    "Logan",
    "Pajero Sport",
    "Sprinter 312",
    "Lancer X Sportback",
    "Golf Plus",
    "Up",
    "Amarok",
    "Passat B3",
    "G 320",
    "Auris",
    "530",
    "CL 500",
    "Master",
    "Dokker",
    "540",
    "ML 320",
    "Golf VI",
    "Golf VII",
    "A 170",
    "Laguna",
    "New Beetle",
    "Pajero",
    "Sprinter 319",
    "Viano",
    "Sharan",
    "Prius",
    "B 180",
    "Fluence",
    "90",
    "T4 (Transporter)",
    "Duster",
    "190",
    "523",
    "Hiace",
    "745",
    "S 320",
    "CLC 200",
    "325",
    "Sprinter 316",
    "Golf V",
    "Fortuner",
    "LT",
    "Symbol",
    "A7",
    "535",
    "640",
    "Yaris",
    "CLK 200",
    "X3",
    "Sprinter 313",
    "S 600",
    "Z3",
    "735",
    "Espace",
    "Golf Variant",
    "Touran",
    "Q5",
    "Sprinter 211",
    "Tacoma",
    "328",
    "Q3",
    "Phaeton",
    "CLK 220",
    "Sprinter 318",
    "Grand Scenic",
    "Land Cruiser 76",
    "ML 280",
    "Land Cruiser 80",
    "CL 63 AMG",
    "T6 (Transporter) ",
    "R8",
    "GLE-Class",
    "116",
    "M6",
    "S 63 AMG",
    "Sandero",
    "CLK 320",
    "SLK 200",
    "CLK 280",
    "118",
    "ML 63 AMG",
    "550",
    "Pajero Pinin",
    "Bora",
    "750",
    "GLK 220",
    "ML 250",
    "IQ",
    "Celica",
    "S 280",
    "5 Series GT",
    "740",
    "S4",
    "CLK 430",
    "A1",
    "300",
    "1 Series",
    "Grandis",
    "Tundra",
    "G 500",
    "GL 350",
    "ASX",
    "CLS 350",
    "Sienna",
    "T4 (Transporter) ",
    "B 200",
    "Vento",
    "323",
    "524",
    "645",
    "Passat B2",
    "T6 (Transporter)",
    "A 140",
    "Latitude",
    "Space Star",
    "Passat B8",
    "230",
    "Previa",
    "GLS 500",
    "Beetle",
    "Sprinter 311",
    "A 160",
    "Carisma",
    "Eclipse",
    "B-Class Electric Drive",
    "Carina",
    "S 55",
    "T3 (Transporter)",
    "Vista",
    "G 350",
    "25",
    "21",
    "316",
    "S5",
    "5",
    "GL 550",
    "B 170",
    "9",
    "GL 420",
    "A 180",
    "335",
    "Avalon",
    "G 63 AMG",
    "S8",
    "Modus",
    "R 320",
    "Aygo",
    "GL 500",
    "S 140",
    "Sprinter",
    "Cross Touran",
    "Matrix",
    "210",
    "630",
    "ML 430",
    "S 65 AMG",
    "Virage",
    "Land Cruiser 105",
    "Sprinter 208",
    "CLS 400",
    "250",
    "S 430",
    "CLK 230",
    "220",
    "Space Wagon",
    "GLS 400",
    "CL 550",
    "Smart",
    "SL 500 (550)",
    "Sprinter 210",
    "S 300",
    "MB",
    "CLS 500",
    "CL 55 AMG",
    "S 250",
    "SLK 350",
    "Sprinter 213",
    "ML 400",
    "Mark II",
    "Lancer Evolution",
    "CL 180",
    "CLS 63 AMG",
    "Corolla Verso",
    "CLA-Class",
    "4 Series Gran Coupe",
    "120",
    "428",
    "GLK 300",
    "Pointer",
    "Captur",
    "S-Guard",
    "760",
    "GLC-Class",
    "Sandero StepWay",
    "CLA 220",
    "L 400",
    "545",
    "Eos",
    "728",
    "ML 550",
    "CLC 180",
    "Golf GTI",
    "ML 500",
    "324",
    "S 420",
    "T2 (Transporter)",
    "6 Series Gran Coupe",
    "SL 55 AMG",
    "650",
    "Sprinter 324",
    "Lite Ace",
    "4Runner",
    "Sequoia",
    "11",
    "Sprinter 315",
    "Syncro",
    "Scion",
]

brand = st.radio("Enter brand:", brands)
body = st.radio("Enter body:", body_types)
mileage = st.number_input("Enter mileage:", min_value=0, max_value=1000)
ev = st.number_input("Enter engine volume:", min_value=0, max_value=100)
et = st.radio("Enter engine type:", engine_types)
reg = st.radio("Enter registration:", reg)
year = st.number_input("Enter year:", min_value=1950, max_value=2030)
model = st.selectbox("Enter model:", models)

if st.button("Predict"):
    path = os.path.join(os.path.dirname(__file__), "car_price_predictor.pickle")
    with open(path, "rb") as f:
        lr_model = pk.load(f)

    df = pd.DataFrame(
        {
            "Brand": [brand],
            "Body": [body],
            "Mileage": [mileage],
            "EngineV": [ev],
            "Engine Type": [et],
            "Registration": [reg],
            "Year": [year],
            "Model": [model],
        }
    )
    # print(df["Model"])
    # print(round(lr_model.predict(df)[0][0], 2))
    st.write("The predicted price of the car is ", round(lr_model.predict(df)[0][0], 2))
